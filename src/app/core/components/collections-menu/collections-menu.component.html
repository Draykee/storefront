<div class="nav-wrapper">
    <ul class="nav" *ngIf="collectionTree$ | async as tree">
        <li class="nav-item" *ngFor="let collection of tree.children"
            (mouseenter)="onMouseEnter(collection)"
            (mouseleave)="close($event)">
            <a class="nav-link"
               (touchstart)="onTopLevelClick($event, collection)"
               [routerLink]="['/category', collection | collectionUrl ]">{{ collection.name }}</a>
        </li>
    </ul>
</div>

<ng-template #menuTemplate>
    <div class="collections-menu-sub-collections shadow"
         *ngIf="activeCollection?.children?.length"
         (touchstart)="captureTouchStart($event)"
         (mouseenter)="onMouseEnter(activeCollection)"
         (mouseleave)="close('sodderick')"
    >
        <div class="container d-flex flex-wrap">
            <div class="level-1-block" *ngFor="let level1 of activeCollection.children">
                <a class="level-1-link"
                   [routerLink]="['/category', level1 | collectionUrl]"
                   (click)="close()">
                    {{ level1.name }}
                </a>
                <ng-container *ngFor="let level2 of level1.children">
                    <a class="level-2-link"
                       [routerLink]="['/category', level2 | collectionUrl]"
                       (click)="close()">
                        {{ level2.name }}
                    </a>
                </ng-container>
            </div>
        </div>
    </div>
</ng-template>
